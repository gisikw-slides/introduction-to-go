<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<title>Introduction to Go</title>
<!-- metadata -->
<meta name="generator" content="Slide Show (S9)" />
<meta name="version" content="S5 1.1" />
<meta name="author" content="Kevin W. Gisi" />
<meta name="company" content="Twin Cities Code Camp 8&mdash;April 10, 2010" />
<meta name="slides_url" content="http://gisikw-slides.github.com/introduction-to-go/" />
<!-- configuration parameters -->
<meta name="defaultView" content="slideshow" />
<meta name="controlVis" content="hidden" />
<!-- style sheet links -->
<link rel="stylesheet" href="ui/default/slides.css" type="text/css" media="projection" id="slideProj" />
<link rel="stylesheet" href="ui/default/outline.css" type="text/css" media="screen" id="outlineStyle" />
<link rel="stylesheet" href="ui/default/print.css" type="text/css" media="print" id="slidePrint" />
<link rel="stylesheet" href="ui/default/opera.css" type="text/css" media="projection" id="operaFix" />
<!--- syntax highlighting -->
<link rel="stylesheet" href="ui/default/syntax/all_hallows_eve.css" type="text/css"/>
<!-- S5 JS -->
<script src="ui/default/slides.js" type="text/javascript"></script>
</head>
<body>

<div class="layout">
<div id="controls"><!-- DO NOT EDIT --></div>
<div id="currentSlide"><!-- DO NOT EDIT --></div>
<div id="header"></div>
<div id="footer">
<h1><a href='http://www.kevingisi.com'>Blog</a> | <a href='http://speakerrate.com/talks/2116-introduction-to-go'>SpeakerRate</a> | <a href="http://github.com/gisikw-slides/introduction-to-go">Source Code</a></h1>
<h2>Copyright &copy; 2010 by Kevin W. Gisi</h2>
</div>

</div>


<div class="presentation">

<div class="slide">
<h1>Introduction to Go</h1>
<h2></h2>
<h3>Kevin W. Gisi</h3>
<h4>Twin Cities Code Camp 8&mdash;April 10, 2010</h4>
</div>



<div class='slide'>

<h1>Summary</h1>

<p>Go is a brand-spanking-new systems language that Google released in November, 2009. Every wonder how awesome C would be if it was garbage-collected, concurrent, and didn't take a few weeks to compile? Wake up; it's here! We'll take a look at this new language that steals some of the dynamic flexibility of Python and Ruby, the performance of C, and a compile time that you'll miss if you blink.</p>



</div><div class='slide'>

<h1>Hello, world</h1>

<p><!-- begin code{:lang=>"go", :name=>"code/hello_world.go"} --></p>

<pre class='code'>
<pre class="all_hallows_eve"><span class="Keyword">package</span> main

<span class="Keyword">import</span> <span class="String"><span class="String">&quot;</span>fmt<span class="String">&quot;</span></span>

<span class="SourceBase"><span class="Keyword">func</span> <span class="FunctionName">main</span>() <span class="SourceBase">{</span></span>
<span class="SourceBase"><span class="SourceBase">  fmt.<span class="SourceBase"><span class="SupportFunction">Printf</span>(</span><span class="String"><span class="String">&quot;</span>Hello, world<span class="StringEscapes">\n</span><span class="String">&quot;</span></span>)</span></span>
<span class="SourceBase"><span class="SourceBase">}</span></span>
</pre></pre>

<div class="codeurl">code/hello_world.go</div>

<p><!-- end code --></p>



</div><div class='slide'>

<h1>Why Go?</h1>

<ul>
<li>It's a systems language</li>
<li>It's fun, like dynamic languages</li>
</ul>



</div><div class='slide'>

<h1>We Already Have a Systems Language!</h1>

<p>Like C
<!-- begin code{:lang=>"c", :name=>"code/c.c"} --></p>

<pre class='code'>
<pre class="all_hallows_eve"><span class="SourceBase">void</span><span class="SourceBase"> <span class="FunctionName">prim<span class="FunctionName">es</span></span>(<span class="SourceBase">int</span> m, <span class="SourceBase">int</span> t, <span class="SourceBase">int</span> c<span class="SourceBase">)</span></span> {
  ((t / m) &lt;= <span class="Constant">1</span>) ? primes(m,t+<span class="Constant">1</span>,c) : !(t % m) ? primes(m,t+<span class="Constant">1</span>, t % m) : 
  ((t % m)==(t / m) &amp;&amp; !c) ? (<span class="SupportFunction">printf</span>(<span class="String"><span class="String">&quot;</span><span class="Constant">%d</span><span class="StringEscapes">\t</span><span class="String">&quot;</span></span>,(t / m)), primes(m,t+<span class="Constant">1</span>,c)) : 
  ((t % m)&gt; <span class="Constant">1</span> &amp;&amp; (t % m) &lt; (t / m)) ? primes(m,t+<span class="Constant">1</span>,c + !((t / m) % (t % m))) : 
  (t &lt; m * m) ? primes(m,t+<span class="Constant">1</span>,c) : <span class="Constant">0</span>;
}
</pre></pre>

<div class="codeurl">code/c.c</div>

<p><!-- end code --></p>



</div><div class='slide'>

<h1>We Already Have Fun Languages!</h1>

<p><!-- begin code{:name=>"code/ruby.rb"} --></p>

<pre class='code'>
<pre class="all_hallows_eve"><span class="SourceBase"><span class="Keyword">module</span> <span class="TypeName">Kernel</span></span>
  <span class="SourceBase"><span class="Keyword">def</span> <span class="FunctionName">method_missing</span><span class="SourceBase">(</span><span class="FunctionArgument">cmd<span class="FunctionArgument">,</span><span class="Keyword">*</span>args</span><span class="SourceBase">)</span></span>
    args<span class="SourceBase"><span class="SourceBase">.</span><span class="FunctionName">empty?</span></span> <span class="Keyword">?</span> cmd<span class="SourceBase"><span class="SourceBase">.</span><span class="FunctionName">to_s</span></span> <span class="SourceBase">:</span> <span class="String"><span class="String">&quot;</span><span class="SourceBase"><span class="SourceBase">#{</span>cmd<span class="SourceBase">}</span></span> <span class="SourceBase"><span class="SourceBase">#{</span>args<span class="SourceBase"><span class="SourceBase">.</span><span class="FunctionName">join</span></span><span class="SourceBase">(</span><span class="String"><span class="String">&quot;</span> <span class="String">&quot;</span></span><span class="SourceBase">)</span><span class="SourceBase">}</span></span><span class="String">&quot;</span></span>
  <span class="Keyword">end</span>
<span class="Keyword">end</span>

puts this is terrible code

x <span class="Keyword">=</span> <span class="SourceBase">[</span><span class="Constant">1</span><span class="SourceBase">,</span><span class="Constant">2</span><span class="SourceBase">,</span><span class="Constant">3</span><span class="SourceBase">]</span>
<span class="SourceBase"><span class="FunctionName">eval</span></span><span class="SourceBase">(</span>x<span class="SourceBase"><span class="SourceBase">.</span><span class="FunctionName">join</span></span><span class="SourceBase">(</span><span class="String"><span class="String">'</span>+<span class="String">'</span></span><span class="SourceBase">)</span><span class="SourceBase">)</span>
</pre></pre>

<div class="codeurl">code/ruby.rb</div>

<p><!-- end code --></p>



</div><div class='slide'>

<h1>Fun Languages are Slow at Runtime</h1>

<p><img src='images/benchmarks.png'/></p>



</div><div class='slide'>

<h1>Fast Languages are Slow to Compile</h1>

<p><img src='images/xkcd_compiling.png'/></p>



</div><div class='slide'>

<h1>Alternative: Go</h1>

<p><s>Go is slow at runtime AND at compile time!</s></p>

<ul>
<li>1/2&mdash;1/3 LOC for C++ benchmarks</li>
<li>1&mdash;1/16 of the speed (libraries?)</li>
</ul>

<p>Priorities:</p>

<ul>
<li>Compile time</li>
<li>Performance</li>
<li>Readability</li>
</ul>



</div><div class='slide'>

<h1>It Runs on Linux</h1>

<p><img src='images/linux.jpg'/></p>



</div><div class='slide'>

<h1>It Runs on OS X!</h1>

<p><img src='images/snow_leopard.jpg'/></p>



</div><div class='slide'>

<h1>It Runs on Virtual Machines!</h1>

<p><img src='images/vmware.jpg'/></p>



</div><div class='slide'>

<h1>Specifications</h1>

<ul>
<li>Compiled</li>
<li>Imperative, structured</li>
<li>Concurrent</li>
<li>Strongly typed (explicit or inferred)</li>
</ul>



</div><div class='slide'>

<h1>Variables &amp; Types</h1>

<ul>
<li>int, float</li>
<li>int8, int32, float64</li>
<li>uint, ufloat</li>
<li>string</li>
<li>struct</li>
</ul>



</div><div class='slide'>

<h1>Variables: Pointers and Arrays</h1>

<p>Pointers</p>

<ul>
<li>Use them for reference</li>
<li>DON'T manipulate them!</li>
</ul>

<p>Arrays
<!-- begin code{:part=>"arrays", :lang=>"go", :name=>"code/variables.go"} --></p>

<pre class='code'>
<pre class="all_hallows_eve"><span class="SourceBase"><span class="SourceBase">  <span class="Keyword">var</span> arrayOfInt</span></span> [<span class="Constant">10</span>]<span class="SourceBase">int</span>
</pre></pre>

<div class="codeurl">code/variables.go</div>

<p><!-- end code --></p>



</div><div class='slide'>

<h1>Variables: Slices and Maps</h1>

<p>Slices</p>

<ul>
<li>"Pointers" for arrays</li>
<li>Contains pointers to each object in a range of the array</li>
<li>Used for passing array values by reference</li>
</ul>

<p>Maps
<!-- begin code{:part=>"maps", :lang=>"go", :name=>"code/variables.go"} --></p>

<pre class='code'>
<pre class="all_hallows_eve"><span class="SourceBase"><span class="SourceBase">  <span class="Keyword">var</span> m</span></span> <span class="Keyword">map</span> = <span class="Keyword">map</span>[<span class="SourceBase">string</span>] <span class="SourceBase">int</span><span class="SourceBase">{}</span>
  m[<span class="String"><span class="String">&quot;</span>price<span class="String">&quot;</span></span>] = <span class="Constant">5</span>
</pre></pre>

<div class="codeurl">code/variables.go</div>

<p><!-- end code --></p>



</div><div class='slide'>

<h1>Variable Declaration</h1>

<p><!-- begin code{:part=>"declarations", :lang=>"go", :name=>"code/variables.go"} --></p>

<pre class='code'>
<pre class="all_hallows_eve">  <span class="Comment"><span class="Comment">//</span> Declare a variable</span>
<span class="SourceBase"><span class="SourceBase">  <span class="Keyword">var</span> s</span></span> <span class="SourceBase">string</span> = <span class="String"><span class="String">&quot;</span><span class="String">&quot;</span></span>;

  <span class="Comment"><span class="Comment">//</span> Go infers the type</span>
<span class="SourceBase"><span class="SourceBase">  <span class="Keyword">var</span> s2</span></span> = <span class="String"><span class="String">&quot;</span><span class="String">&quot;</span></span>;

  <span class="Comment"><span class="Comment">//</span> Syntactic shorthand - initializing declaration</span>
  <span class="SourceBase"><span class="SourceBase">s3 <span class="Keyword">:=</span></span></span> <span class="String"><span class="String">&quot;</span><span class="String">&quot;</span></span>;
</pre></pre>

<div class="codeurl">code/variables.go</div>

<p><!-- end code --></p>



</div><div class='slide'>

<h1>Variable Allocation</h1>

<p>new()</p>

<ul>
<li>allocates heap space</li>
<li>zero-initializes the space</li>
<li>returns the address</li>
</ul>

<p>make()</p>

<ul>
<li>allocates heap space</li>
<li>creates the object (and underlying data structure)</li>
<li>returns the value</li>
</ul>



</div><div class='slide'>

<h1>Go &#8800; C</h1>

<ul>
<li>Semicolons optional (implied)</li>
<li>Curly braces MUST start on the same line</li>
<li>No parentheses in <code>if</code>s and <code>for</code>s</li>
<li>Garbage collected</li>
<li>Arrays aren't pointers</li>
</ul>



</div><div class='slide'>

<h1>Methods</h1>

<ul>
<li>CamelCase - public</li>
<li>camelCase - package-level</li>
<li>Pass by value</li>
<li>Multiple return values</li>
</ul>



</div><div class='slide'>

<h1>What? Multiple Return Values?!</h1>

<p><!-- begin code{:part=>"multiple_return", :lang=>"go", :name=>"code/methods.go"} --></p>

<pre class='code'>
<pre class="all_hallows_eve"><span class="SourceBase"><span class="Keyword">func</span> <span class="FunctionName">gimmeFive</span>() (<span class="SourceBase">int, string</span>) <span class="SourceBase">{</span></span>
<span class="SourceBase"><span class="SourceBase">  <span class="Keyword">return</span> <span class="Constant">5</span>, <span class="String"><span class="String">&quot;</span>thanks for asking!<span class="String">&quot;</span></span></span></span>
<span class="SourceBase"><span class="SourceBase">}</span></span>
</pre></pre>

<div class="codeurl">code/methods.go</div>

<p><!-- end code --></p>

<p>How do we access them?
<!-- begin code{:part=>"call_gimme_five", :lang=>"go", :name=>"code/methods.go"} --></p>

<pre class='code'>
<pre class="all_hallows_eve">  <span class="SourceBase"><span class="SourceBase">x, message <span class="Keyword">:=</span></span></span><span class="SourceBase"><span class="SourceBase"> </span><span class="SupportFunction">gimmeFive</span>(</span>)
</pre></pre>

<div class="codeurl">code/methods.go</div>

<p><!-- end code --></p>



</div><div class='slide'>

<h1>Why Multiple Return Values?</h1>

<p><!-- begin code{:part=>"why_multiple", :lang=>"go", :name=>"code/methods.go"} --></p>

<pre class='code'>
<pre class="all_hallows_eve">  <span class="Keyword">if</span> <span class="SourceBase"><span class="SourceBase">text, err <span class="Keyword">:=</span></span></span><span class="SourceBase"><span class="SourceBase"> </span><span class="SupportFunction">readFile</span>(</span><span class="String"><span class="String">'</span>foo.txt<span class="String">'</span></span>); err == <span class="Constant">nil</span> <span class="SourceBase">{</span>
<span class="SourceBase">    <span class="Comment"><span class="Comment">//</span> Read the file</span></span>
<span class="SourceBase">  }</span> <span class="Keyword">else</span> <span class="SourceBase">{</span>
<span class="SourceBase">    <span class="Comment"><span class="Comment">//</span> Handle the error</span></span>
<span class="SourceBase">  }</span>

  <span class="Keyword">for</span> <span class="SourceBase"><span class="SourceBase">key, value <span class="Keyword">:=</span></span></span> <span class="Keyword">range</span> my_map <span class="SourceBase">{</span>
<span class="SourceBase"></span>
<span class="SourceBase">  }</span>

  <span class="Comment"><span class="Comment">//</span> ...or</span>
  <span class="Keyword">for</span> <span class="SourceBase"><span class="SourceBase">_, value <span class="Keyword">:=</span></span></span> <span class="Keyword">range</span> my_map <span class="SourceBase">{ <span class="Comment"><span class="Comment">//</span> Discard the first returned value</span></span>
<span class="SourceBase"></span>
<span class="SourceBase">  }</span>
</pre></pre>

<div class="codeurl">code/methods.go</div>

<p><!-- end code --></p>



</div><div class='slide'>

<h1>Named Results</h1>

<p><!-- begin code{:part=>"named_results", :lang=>"go", :name=>"code/methods.go"} --></p>

<pre class='code'>
<pre class="all_hallows_eve"><span class="SourceBase"><span class="Keyword">func</span> <span class="FunctionName">gimmeSix</span>() (<span class="SourceBase">value int, err string</span>) <span class="SourceBase">{</span></span>
<span class="SourceBase"><span class="SourceBase">  <span class="Comment"><span class="Comment">//</span> value and err are set to nil</span></span></span>
<span class="SourceBase"><span class="SourceBase">  value = <span class="Constant">5</span></span></span>
<span class="SourceBase"><span class="SourceBase">  <span class="Keyword">return</span> <span class="Comment"><span class="Comment">//</span> implicitly returns 5, nil</span></span></span>
<span class="SourceBase"><span class="SourceBase">}</span></span>
</pre></pre>

<div class="codeurl">code/methods.go</div>

<p><!-- end code --></p>



</div><div class='slide'>

<h1>Concurrency</h1>

<p><img src='images/sheldon.png' /></p>



</div><div class='slide'>

<h1>Goroutines</h1>

<ul>
<li>NOT threads</li>
<li>Independent code</li>
<li>Communication over shared memory</li>
</ul>



</div><div class='slide'>

<h1>Threads</h1>

<ul>
<li>Exist</li>
<li>Span across multiple cores</li>
<li>Go load-balances them</li>
<li>Don't worry about it</li>
</ul>



</div><div class='slide'>

<h1>Goroutine Example</h1>

<p><!-- begin code{:part=>"goroutines", :lang=>"go", :name=>"code/concurrency.go"} --></p>

<pre class='code'>
<pre class="all_hallows_eve">  <span class="Keyword">go</span> <span class="SourceBase"><span class="SupportFunction">gimmeFive</span>(</span>)

  <span class="Keyword">go</span> <span class="Keyword">func</span><span class="SourceBase">(<span class="SourceBase">)</span></span> <span class="SourceBase">{</span>
<span class="SourceBase">    time.<span class="SourceBase"><span class="SupportFunction">Sleep</span>(</span><span class="Constant">5</span>)</span>
<span class="SourceBase">    fmt.<span class="SourceBase"><span class="SupportFunction">Println</span>(</span><span class="String"><span class="String">&quot;</span>Computer over. Virus = very yes<span class="String">&quot;</span></span>)</span>
<span class="SourceBase">  }</span><span class="SourceBase">(<span class="SourceBase">)</span></span>
</pre></pre>

<div class="codeurl">code/concurrency.go</div>

<p><!-- end code --></p>

<ul>
<li>No access to spawned goroutines</li>
<li>No thread.join equivalent</li>
</ul>



</div><div class='slide'>

<h1>Channels</h1>

<ul>
<li>Like Unix pipes</li>
<li>Communicate across goroutines</li>
<li>Optionally blocking/non-blocking</li>
</ul>



</div><div class='slide'>

<h1>Channel Example</h1>

<p><!-- begin code{:part=>"channels", :lang=>"go", :name=>"code/concurrency.go"} --></p>

<pre class='code'>
<pre class="all_hallows_eve"><span class="SourceBase"><span class="Keyword">func</span> <span class="FunctionName">chat</span>() <span class="SourceBase">{</span></span>
<span class="SourceBase"><span class="SourceBase">  <span class="SourceBase"><span class="SourceBase">output <span class="Keyword">:=</span></span></span><span class="SourceBase"> </span><span class="SupportFunction">make</span><span class="SourceBase">(<span class="SourceBase">chan</span> <span class="SourceBase">string</span>)</span></span></span>
<span class="SourceBase"><span class="SourceBase">  <span class="Keyword">go</span> <span class="SourceBase"><span class="SupportFunction">log</span>(</span>output)</span></span>
<span class="SourceBase"><span class="SourceBase">  <span class="Keyword">for</span> <span class="Constant">true</span> <span class="SourceBase">{</span></span></span>
<span class="SourceBase"><span class="SourceBase"><span class="SourceBase">    input <span class="SourceBase">&lt;-</span> <span class="String"><span class="String">&quot;</span>Hey. Hey. Listen<span class="String">&quot;</span></span></span></span></span>
<span class="SourceBase"><span class="SourceBase"><span class="SourceBase">  }</span></span></span>
<span class="SourceBase"><span class="SourceBase">}</span></span>

<span class="SourceBase"><span class="Keyword">func</span> <span class="FunctionName">log</span>(<span class="FunctionArgument">input chan string</span>)<span class="SourceBase">{</span></span>
<span class="SourceBase"><span class="SourceBase">  <span class="Keyword">for</span> <span class="Constant">true</span> <span class="SourceBase">{</span></span></span>
<span class="SourceBase"><span class="SourceBase"><span class="SourceBase">    <span class="SourceBase"><span class="SourceBase">data <span class="Keyword">:=</span></span></span> <span class="SourceBase">&lt;-</span> input</span></span></span>
<span class="SourceBase"><span class="SourceBase"><span class="SourceBase">    fmt.<span class="SourceBase"><span class="SupportFunction">Println</span>(</span>data)</span></span></span>
<span class="SourceBase"><span class="SourceBase"><span class="SourceBase">  }</span></span></span>
<span class="SourceBase"><span class="SourceBase">}</span></span>
</pre></pre>

<div class="codeurl">code/concurrency.go</div>

<p><!-- end code --></p>



</div><div class='slide'>

<h1>Interfaces</h1>

</div></div>

</body>
</html>